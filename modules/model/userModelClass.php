<?php
 goto SbrVi; ybOkV: exit("\x41\x63\143\145\163\163\40\104\145\x6e\151\x65\144"); goto hIX7A; hIX7A: vYtou: goto XlOe2; SbrVi: if (defined("\111\116\x5f\111\x41")) { goto vYtou; } goto ybOkV; XlOe2: class User_SnailFishShopModel { public function __construct() { } public function refundOrder($order_id, $money) { } public function delete_use_auto_template() { goto wioPC; w5zfT: if (!($result["\x65\x72\x72\143\x6f\x64\x65"] == 0)) { goto x9f1Q; } goto RNdpM; RNdpM: foreach ($result["\154\151\x73\x74"] as $val) { goto VzqxH; X_pcy: $del_template_arr[] = $val["\x74\x65\x6d\160\x6c\x61\x74\x65\137\151\144"]; goto NNRXt; VzqxH: if (!in_array($val["\164\x69\164\154\x65"], $del_title_arr)) { goto fXXtW; } goto X_pcy; NNRXt: fXXtW: goto WmnW5; WmnW5: d37Po: goto s5xyg; s5xyg: } goto TThzO; fE5AP: $result_json = $this->sendhttps_post($send_url, json_encode($data)); goto pcotz; wioPC: global $_W; goto B8FFT; bTr82: foreach ($del_template_arr as $vv) { goto BFC1z; JBseR: $data = array(); goto gKHPq; C2lEq: pTmFO: goto A3WWa; KrPxL: $result_json = $this->sendhttps_post($send_url, json_encode($data)); goto C2lEq; gKHPq: $data["\164\145\x6d\160\154\141\164\x65\137\x69\144"] = $vv; goto KrPxL; BFC1z: $send_url = "\150\x74\x74\160\x73\72\57\57\141\x70\151\56\x77\145\x69\x78\x69\x6e\56\x71\x71\x2e\143\x6f\155\57\x63\x67\151\x2d\142\x69\x6e\57\167\x78\157\x70\145\156\57\x74\x65\155\x70\154\x61\164\145\x2f\x64\145\154\x3f\141\143\143\x65\163\163\x5f\164\x6f\153\x65\x6e\x3d{$re_access_token}"; goto JBseR; A3WWa: } goto CgsE2; T7ylF: ZcsDn: goto JQuvW; I89pZ: $data = array(); goto bCr8c; bCr8c: $data["\x6f\146\x66\163\145\x74"] = 0; goto utUia; W7JZc: x9f1Q: goto d3Raf; K61ms: NpHd8: goto tgFDu; rhHHc: $uniacid = $_W["\165\x6e\151\x61\143\151\x64"]; goto K61ms; utUia: $data["\x63\157\165\x6e\x74"] = 20; goto fE5AP; ZtJUs: if (!empty($uniacid)) { goto NpHd8; } goto rhHHc; d3Raf: if (empty($del_template_arr)) { goto ZcsDn; } goto bTr82; XLXkW: $weixin_config = array(); goto c4ng5; iC2Y6: $re_access_token = $jssdk->getweAccessToken($uniacid); goto fss5h; TThzO: GTF5x: goto W7JZc; NIKuN: $del_title_arr = array("\xe7\224\xb3\xe8\xaf\xb7\346\x88\x90\345\212\x9f\xe6\x8f\x90\351\206\222", "\351\200\x80\346\254\xbe\346\210\220\xe5\212\237\351\x80\232\347\x9f\xa5", "\350\256\242\345\215\x95\346\224\xaf\xe4\xbb\x98\xe6\x88\220\xe5\212\237\xe9\x80\232\xe7\237\xa5", "\350\256\242\xe5\215\x95\345\217\221\xe8\264\xa7\346\217\220\351\206\x92", "\xe6\240\xb8\351\x94\x80\346\210\220\xe5\x8a\237\351\200\x9a\xe7\x9f\245", "\xe6\217\220\347\216\xb0\xe5\210\xb0\350\264\246\351\200\x9a\347\237\245"); goto ieHvX; ieHvX: $del_template_arr = array(); goto w5zfT; bgjmd: include_once SNAILFISH_VENDOR . "\x57\145\151\x78\x69\x6e\57\x4a\x73\x73\144\x6b\x2e\x63\154\141\x73\163\x2e\160\150\x70"; goto c2Kgd; pcotz: $result = json_decode($result_json, true); goto NIKuN; B8FFT: @set_time_limit(0); goto ZtJUs; fss5h: $send_url = "\x68\164\164\160\x73\x3a\57\57\141\160\x69\56\x77\145\x69\170\x69\x6e\x2e\x71\161\56\x63\157\x6d\x2f\143\x67\x69\55\142\x69\x6e\x2f\167\170\x6f\160\145\x6e\x2f\164\145\x6d\x70\x6c\x61\164\145\57\154\151\163\x74\x3f\x61\143\x63\145\x73\x73\x5f\164\157\153\x65\x6e\75{$re_access_token}"; goto I89pZ; c4ng5: $weixin_config["\x61\160\160\x69\144"] = load_model_class("\x66\162\157\156\x74")->get_config_by_name("\167\145\160\162\x6f\x5f\141\160\x70\151\x64", $uniacid); goto WGxE1; tgFDu: $config_data = array(); goto XLXkW; WGxE1: $weixin_config["\x61\160\160\163\143\x65\162\164"] = load_model_class("\x66\162\157\156\x74")->get_config_by_name("\167\145\x70\162\157\x5f\x61\160\160\163\x65\x63\162\145\164", $uniacid); goto bgjmd; CgsE2: yJcN_: goto T7ylF; c2Kgd: $jssdk = new Jssdk($weixin_config["\141\160\x70\x69\x64"], $weixin_config["\141\x70\x70\163\143\x65\x72\x74"]); goto iC2Y6; JQuvW: } public function mange_template_auto($uniacid = 0) { goto WHdEs; EKZBJ: $config_data = array(); goto nY4vC; u7NL7: $weixin_config["\x61\160\160\x73\143\x65\x72\164"] = load_model_class("\146\162\x6f\156\164")->get_config_by_name("\167\145\160\162\157\x5f\x61\160\x70\163\145\x63\x72\x65\x74", $uniacid); goto KHdFx; Oi17O: $result_json = $this->sendhttps_post($send_url, json_encode($data)); goto JnXKa; L3JVp: if (!($result["\145\162\162\143\x6f\144\145"] == 0)) { goto yzUaR; } goto nvjbW; dqSAs: $data["\x69\x64"] = "\x41\124\x30\60\60\71"; goto BUGov; W1bdr: $config_data["\167\x65\x70\162\157\147\x72\x61\155\137\164\145\x6d\160\x6c\x61\x74\145\137\x72\x65\x66\165\x6e\144\137\157\x72\144\x65\162"] = $result["\164\x65\155\160\x6c\141\x74\145\137\x69\144"]; goto z2W0I; UK5yN: $result_json = $this->sendhttps_post($send_url, json_encode($data)); goto CcJeA; mUKJ3: $data["\151\x64"] = "\x41\x54\x30\60\65\x31"; goto Fxqxw; nNHIG: $result_json = $this->sendhttps_post($send_url, json_encode($data)); goto rhGRY; Joib7: $result = json_decode($result_json, true); goto CLmyQ; XuW1r: $result_json = $this->sendhttps_post($send_url, json_encode($data)); goto y9pE6; YlqSC: if (!($result["\x65\162\x72\143\x6f\x64\x65"] == 0)) { goto WLn_2; } goto E6wAZ; akZQx: WLn_2: goto ShFVE; KHdFx: include_once SNAILFISH_VENDOR . "\x57\x65\151\170\151\x6e\57\112\163\x73\x64\153\56\143\154\141\x73\x73\56\160\x68\x70"; goto g2E9U; v9YGq: $config_data["\x77\x65\x70\162\157\147\162\x61\155\x5f\164\145\x6d\x70\x6c\x61\164\x65\137\141\160\x70\154\171\137\x74\151\x78\x69\141\x6e"] = $result["\x74\x65\155\160\154\141\164\x65\137\151\144"]; goto u00mH; FVopE: $data["\x6b\145\171\x77\157\x72\144\137\151\144\137\x6c\x69\x73\164"] = array(5, 3, 1, 6, 8, 11, 2); goto nNHIG; jHbVx: $config_data["\x77\x65\x70\162\x6f\x67\x72\141\x6d\x5f\x74\145\155\160\154\141\x74\x65\137\x6f\x70\145\x6e\x5f\164\x75\141\156"] = $result["\x74\x65\155\160\x6c\x61\x74\145\x5f\x69\x64"]; goto y2WdJ; Z0mtU: if (!empty($uniacid)) { goto DlEVw; } goto TBF3u; ziXzM: $config_data["\x77\145\x70\162\x6f\147\x72\x61\155\x5f\x74\145\155\160\154\141\x74\x65\x5f\141\160\160\154\x79\137\x63\x6f\155\x6d\165\156\151\164\x79"] = $result["\164\145\x6d\x70\154\141\164\x65\137\x69\x64"]; goto kXgZG; NiA1s: $data = array(); goto rOeYU; ih1y5: $data = array(); goto ATRHZ; oF041: $re_access_token = $jssdk->getweAccessToken($uniacid); goto txUWP; yujnP: $result = json_decode($result_json, true); goto V1Sde; X3YzN: if (!($result["\x65\162\x72\x63\x6f\144\145"] == 0)) { goto jkO05; } goto W1bdr; OD3g5: if (!($result["\145\162\162\x63\157\x64\x65"] == 0)) { goto nkGs1; } goto auOea; txUWP: $send_url = "\150\164\164\160\163\72\x2f\57\x61\x70\151\x2e\167\x65\x69\x78\151\156\56\x71\161\x2e\x63\x6f\155\x2f\x63\147\x69\55\x62\x69\x6e\x2f\x77\170\x6f\x70\x65\156\57\x74\145\155\160\154\141\x74\x65\57\141\144\x64\77\x61\x63\x63\x65\x73\x73\137\164\157\x6b\145\x6e\75{$re_access_token}"; goto ryC0H; rOeYU: $data["\x69\x64"] = "\x41\x54\60\x39\x33\63"; goto CMQH7; CMQH7: $data["\x6b\145\x79\x77\x6f\162\x64\137\x69\x64\x5f\x6c\x69\163\164"] = array(3, 18, 27); goto DLOmh; g2E9U: $jssdk = new Jssdk($weixin_config["\x61\x70\160\x69\x64"], $weixin_config["\x61\x70\160\x73\143\x65\162\x74"]); goto oF041; gdnWo: $data["\153\x65\171\x77\157\x72\144\137\x69\144\137\x6c\151\x73\x74"] = array(5, 2, 6, 3, 9); goto Oi17O; evaqO: @set_time_limit(0); goto Z0mtU; CcJeA: $result = json_decode($result_json, true); goto L3JVp; vddKy: $result = json_decode($result_json, true); goto QS6y3; PFD7s: DlEVw: goto EKZBJ; hzc8b: $data = array(); goto mUKJ3; XWrdB: $data["\153\x65\171\x77\x6f\x72\x64\x5f\151\x64\x5f\154\x69\163\164"] = array(15, 1, 10, 26, 24); goto YFpcA; EhYOf: $data = array(); goto DDyw4; CLmyQ: if (!($result["\x65\162\x72\x63\x6f\144\x65"] == 0)) { goto d6K1K; } goto ziXzM; DLOmh: $result_json = $this->sendhttps_post($send_url, json_encode($data)); goto KcK8k; YFpcA: $result_json = $this->sendhttps_post($send_url, json_encode($data)); goto vddKy; oJd4l: $config_data["\167\145\160\x72\x6f\x67\162\141\x6d\x5f\164\145\155\x70\154\141\x74\x65\137\150\145\x78\x69\141\x6f\137\163\x75\143\143\x65\163\163"] = $result["\164\x65\155\160\x6c\141\164\145\x5f\x69\x64"]; goto US_fV; BVauR: yzUaR: goto D0Ehq; WHdEs: global $_W; goto I7bSr; e411n: load_model_class("\x63\157\x6e\x66\151\147")->update($config_data); goto Ur77d; BUGov: $data["\x6b\145\x79\167\157\162\x64\137\x69\144\137\154\151\163\x74"] = array(1, 13, 10, 11, 20); goto UK5yN; rhGRY: $result = json_decode($result_json, true); goto U44HC; QS6y3: if (!($result["\145\162\x72\143\157\x64\x65"] == 0)) { goto DI_GW; } goto jHbVx; r7NMt: $data["\153\x65\x79\167\x6f\162\x64\137\151\x64\x5f\154\151\163\x74"] = array(8, 13, 14, 17, 7, 18); goto pIkw5; I7bSr: $this->delete_use_auto_template(); goto evaqO; pIkw5: $result_json = $this->sendhttps_post($send_url, json_encode($data)); goto bkqmf; Fxqxw: $data["\153\x65\x79\167\157\x72\x64\x5f\x69\144\x5f\x6c\x69\163\164"] = array(13, 6, 12); goto feBJV; bkqmf: $result = json_decode($result_json, true); goto X3YzN; US_fV: dqFK6: goto ih1y5; nY4vC: $weixin_config = array(); goto IRvJ1; TBF3u: $uniacid = $_W["\x75\x6e\x69\141\143\x69\144"]; goto PFD7s; ShFVE: $data = array(); goto ifW5k; nvjbW: $config_data["\x77\x65\160\x72\157\x67\x72\x61\x6d\x5f\164\145\x6d\160\x6c\141\x74\145\137\x70\141\171\x5f\x6f\x72\x64\x65\x72"] = $result["\164\145\x6d\160\x6c\x61\164\x65\137\151\144"]; goto BVauR; IRvJ1: $weixin_config["\x61\x70\160\151\144"] = load_model_class("\x66\162\157\x6e\164")->get_config_by_name("\167\145\x70\162\157\x5f\x61\160\160\x69\x64", $uniacid); goto u7NL7; E5Qjf: $result_json = $this->sendhttps_post($send_url, json_encode($data)); goto Joib7; u00mH: WKxaX: goto IwLCj; feBJV: $result_json = $this->sendhttps_post($send_url, json_encode($data)); goto yujnP; ifW5k: $data["\x69\144"] = "\x41\124\x30\64\x32\x33"; goto gdnWo; Egxr1: $data = array(); goto dqSAs; U44HC: if (!($result["\x65\162\x72\x63\157\144\x65"] == 0)) { goto WKxaX; } goto v9YGq; qRDAx: $data["\x6b\x65\x79\x77\x6f\162\x64\x5f\151\144\x5f\x6c\x69\163\164"] = array(1, 13, 3, 6, 77, 44, 50); goto E5Qjf; ryC0H: $data = array(); goto xPwHj; xPwHj: $data["\151\144"] = "\101\124\x30\61\x39\x37"; goto qRDAx; DDyw4: $data["\151\x64"] = "\101\124\x30\x38\x33\x30"; goto FVopE; Rc5J8: $data["\151\144"] = "\101\124\60\65\x34\61"; goto XWrdB; z2W0I: jkO05: goto EhYOf; yuQ6R: $data["\153\x65\x79\167\157\x72\144\x5f\x69\144\x5f\x6c\151\163\x74"] = array(5, 7, 47, 34, 11); goto XuW1r; cNHm2: $config_data["\x77\x65\160\x72\x6f\x67\162\141\155\137\x74\x65\155\x70\x6c\141\164\x65\x5f\x70\151\x6e\137\x74\x75\x61\x6e\x73\165\143\x63\x65\x73\163"] = $result["\164\145\155\x70\154\x61\164\x65\137\x69\144"]; goto BNa2g; JnXKa: $result = json_decode($result_json, true); goto fUSKY; ATRHZ: $data["\x69\144"] = "\x41\124\x30\67\x38\67"; goto r7NMt; auOea: $config_data["\167\x65\160\x72\157\x67\x72\141\x6d\x5f\164\145\x6d\x70\x6c\141\164\x65\x5f\x74\x61\x6b\145\137\x74\165\x61\156"] = $result["\164\x65\x6d\160\154\141\164\x65\137\x69\x64"]; goto YDF7_; IwLCj: $data = array(); goto Rc5J8; KcK8k: $result = json_decode($result_json, true); goto OD3g5; y9pE6: $result = json_decode($result_json, true); goto YlqSC; kXgZG: d6K1K: goto Egxr1; YDF7_: nkGs1: goto hzc8b; fUSKY: if (!($result["\145\x72\x72\x63\x6f\144\x65"] == 0)) { goto dqFK6; } goto oJd4l; kwCo3: $data["\x69\144"] = "\101\124\60\60\60\x37"; goto yuQ6R; y2WdJ: DI_GW: goto NiA1s; BNa2g: A8xn_: goto e411n; V1Sde: if (!($result["\x65\162\x72\x63\157\144\145"] == 0)) { goto A8xn_; } goto cNHm2; D0Ehq: $data = array(); goto kwCo3; E6wAZ: $config_data["\x77\x65\160\162\x6f\147\162\x61\x6d\137\164\145\155\x70\x6c\x61\164\145\x5f\x73\145\x6e\144\x5f\x6f\162\x64\x65\162"] = $result["\x74\x65\155\160\154\x61\164\x65\137\151\144"]; goto akZQx; Ur77d: } function send_subscript_msg($template_data, $url, $pagepath, $to_openid, $template_id, $uniacid = 0, $delay_time = 0) { goto n4aWv; PAiUW: $log_data["\x74\x79\160\145"] = ''; goto lfbZ8; VNvMO: $weixin_config = array(); goto Ih_4P; n4aWv: global $_W; goto P3b2o; Wx13K: return $ck_json_arr; goto WIois; iYScb: sleep($delay_time); goto MUgJ5; iQ14v: $send_url = "\150\x74\x74\160\x73\72\x2f\x2f\141\x70\151\56\167\145\x69\170\151\x6e\x2e\161\161\x2e\x63\x6f\155\x2f\143\147\x69\x2d\142\151\156\x2f\155\145\163\x73\141\x67\x65\57\x73\165\142\x73\143\x72\151\142\145\x2f\x73\145\x6e\144\77\x61\x63\x63\x65\x73\x73\x5f\x74\157\x6b\145\156\75{$re_access_token}"; goto Xyazl; GchNm: $log_data = array(); goto jZjvS; gtSOL: $ck_json_arr = json_decode($result, true); goto Wx13K; hy5P0: $re_access_token = $jssdk->getweAccessToken($uniacid); goto DOgzV; DeDTk: include_once SNAILFISH_VENDOR . "\x57\145\151\x78\151\156\x2f\112\163\163\144\153\56\143\154\141\x73\163\x2e\160\150\x70"; goto A8qxu; Xyazl: $result = $this->sendhttps_post($send_url, json_encode($template)); goto GchNm; jJosg: if (!($delay_time > 0)) { goto NInUr; } goto iYScb; A8qxu: $jssdk = new Jssdk($weixin_config["\x61\160\x70\x69\144"], $weixin_config["\x61\x70\x70\x73\143\x65\x72\164"]); goto hy5P0; aQK5i: $log_data["\x75\x6e\x69\x61\x63\151\144"] = 0; goto mVkay; DOgzV: $template = array("\x74\x6f\165\163\x65\x72" => $to_openid, "\164\145\155\160\154\141\164\x65\137\151\144" => $template_id, "\160\x61\147\x65" => $pagepath, "\x64\141\164\141" => $template_data); goto jJosg; KvW7I: $log_data["\x69\x70"] = ''; goto CgPRb; hHlPt: s0Qxq: goto VNvMO; Ih_4P: $weixin_config["\x61\x70\160\x69\x64"] = load_model_class("\x66\162\x6f\156\164")->get_config_by_name("\x77\145\x70\x72\157\x5f\141\x70\x70\x69\144", $uniacid); goto BxFsc; jZjvS: $log_data["\165\151\x64"] = 0; goto aQK5i; Ut6kb: $log_data["\x63\x72\x65\x61\164\x65\164\151\155\145"] = time(); goto KvW7I; MUgJ5: NInUr: goto iQ14v; CgPRb: pdo_insert("\x6c\x69\x6f\156\146\x69\163\150\137\143\157\x6d\163\150\x6f\160\x5f\x70\x65\162\155\x5f\x6c\157\x67", $log_data); goto gtSOL; lfbZ8: $log_data["\157\x70"] = $result; goto Ut6kb; P3b2o: if (!empty($uniacid)) { goto s0Qxq; } goto yAnNQ; BxFsc: $weixin_config["\141\160\x70\163\x63\145\162\x74"] = load_model_class("\x66\x72\157\x6e\x74")->get_config_by_name("\x77\145\160\162\x6f\137\141\x70\160\163\145\x63\162\145\164", $uniacid); goto DeDTk; mVkay: $log_data["\156\141\155\x65"] = json_encode($template); goto PAiUW; yAnNQ: $uniacid = $_W["\x75\x6e\151\x61\x63\x69\144"]; goto hHlPt; WIois: } function send_wxtemplate_msg($template_data, $url, $pagepath, $to_openid, $template_id, $form_id = "\61", $uniacid = 0, $wx_template_data = array(), $delay_time = 0) { goto T1LF5; NTy3x: $weixin_config["\x61\x70\160\x69\144"] = load_model_class("\x66\x72\157\156\164")->get_config_by_name("\167\x65\160\x72\x6f\x5f\x61\x70\160\x69\144", $uniacid); goto NyDOr; UkatQ: $result = json_encode($result); goto mdzKV; JdTnu: $url = "\150\164\x74\x70\x73\x3a\57\x2f\x61\160\151\x2e\x77\145\151\x78\151\x6e\56\x71\x71\56\x63\157\155\x2f\x63\147\151\55\142\x69\x6e\57\155\145\x73\x73\x61\147\145\x2f\x77\170\157\x70\145\156\x2f\164\x65\x6d\160\154\141\164\145\x2f\165\156\x69\146\x6f\x72\x6d\x5f\163\x65\156\x64\77\141\143\x63\145\163\163\x5f\x74\x6f\x6b\145\156\x3d{$re_access_token}"; goto Oa2QV; gpWGG: $uniacid = $_W["\x75\156\151\x61\143\x69\x64"]; goto tEWys; kA3Cx: $ck_json_arr = json_decode($result, true); goto JbEW1; tEWys: L49MZ: goto pfvg1; guHwc: KP9np: goto Vl6qJ; Vl6qJ: $send_url = "\x68\164\164\160\163\x3a\x2f\x2f\141\160\x69\x2e\167\x65\151\170\x69\156\56\161\161\x2e\x63\x6f\x6d\57\x63\147\x69\x2d\x62\x69\156\57\x6d\145\x73\163\x61\147\145\x2f\167\x78\157\160\145\x6e\x2f\x74\x65\155\160\x6c\x61\x74\145\x2f\163\145\x6e\x64\77\141\143\143\145\x73\x73\x5f\164\x6f\153\x65\156\x3d{$re_access_token}"; goto Z7iRp; tsUZX: if (empty($template_data)) { goto dW_ZW; } goto F3Mtx; T1LF5: global $_W; goto XmWYd; jqwh8: $re_access_token = $jssdk->getweAccessToken($uniacid); goto xUxL9; JbEW1: dW_ZW: goto Fqf37; fecYS: $new_template["\x74\157\165\x73\x65\162"] = $to_openid; goto Erm7w; FFKmw: $result = $this->sendhttps_post($url, json_encode($new_template)); goto UkatQ; pfvg1: $weixin_config = array(); goto NTy3x; NVgXG: $jssdk = new Jssdk($weixin_config["\141\x70\x70\x69\144"], $weixin_config["\x61\160\160\x73\x63\x65\162\164"]); goto jqwh8; Oa2QV: $new_template = array(); goto fecYS; FqEi3: if (empty($wx_template_data)) { goto LEVZs; } goto JdTnu; DOqTd: sleep($delay_time); goto guHwc; xUxL9: $template = array("\x74\157\x75\x73\x65\162" => $to_openid, "\x74\x65\155\x70\154\141\164\145\137\x69\x64" => $template_id, "\146\157\162\x6d\137\151\144" => $form_id, "\x70\x61\x67\x65" => $pagepath, "\144\141\x74\x61" => $template_data); goto FqEi3; Z7iRp: $result = $this->sendhttps_post($send_url, json_encode($template)); goto kA3Cx; mdzKV: LEVZs: goto tsUZX; XmWYd: if (!empty($uniacid)) { goto L49MZ; } goto gpWGG; oM689: include_once SNAILFISH_VENDOR . "\127\145\x69\x78\x69\156\57\x4a\x73\x73\144\x6b\x2e\143\x6c\x61\163\x73\x2e\160\150\160"; goto NVgXG; F3Mtx: if (!($delay_time > 0)) { goto KP9np; } goto DOqTd; NyDOr: $weixin_config["\141\x70\x70\x73\x63\145\162\164"] = load_model_class("\146\162\x6f\x6e\164")->get_config_by_name("\x77\x65\160\x72\157\137\x61\160\160\x73\145\143\162\x65\x74", $uniacid); goto oM689; Fqf37: return json_decode($result, true); goto bAlc8; Erm7w: $new_template["\x6d\160\x5f\x74\x65\155\160\x6c\x61\164\x65\137\x6d\x73\x67"] = array("\141\x70\x70\151\x64" => $wx_template_data["\x61\x70\x70\151\144"], "\164\145\155\x70\154\141\x74\145\137\x69\x64" => $wx_template_data["\x74\x65\x6d\160\154\x61\164\x65\x5f\151\144"], "\x75\162\154" => $_W["\163\x69\x74\x65\162\157\x6f\x74"], "\x6d\151\156\x69\160\162\157\x67\x72\141\x6d" => array("\141\160\x70\151\x64" => $weixin_config["\141\160\160\x69\x64"], "\160\x61\x67\145\160\141\x74\150" => $wx_template_data["\160\141\x67\145\160\x61\164\x68"]), "\144\x61\x74\141" => $wx_template_data["\x64\141\164\141"]); goto FFKmw; bAlc8: } public function just_send_wxtemplate($to_openid, $uniacid = 0, $wx_template_data = array()) { goto GT1z7; E2MYE: $weixin_config["\x61\x70\160\x73\143\x65\x72\164"] = load_model_class("\146\x72\157\156\x74")->get_config_by_name("\167\145\x70\162\x6f\x5f\x61\160\160\x73\145\143\x72\x65\164", $uniacid); goto v57C_; mtYig: if (!empty($uniacid)) { goto F8Kyw; } goto xcQXu; fok3e: $new_template["\x6d\160\x5f\x74\145\155\x70\x6c\x61\x74\145\137\x6d\x73\147"] = array("\141\x70\x70\x69\x64" => $wx_template_data["\141\160\x70\x69\144"], "\164\x65\155\160\154\141\164\145\137\x69\x64" => $wx_template_data["\x74\145\155\x70\x6c\x61\164\x65\x5f\x69\x64"], "\165\162\x6c" => $_W["\163\151\x74\x65\x72\x6f\x6f\164"], "\x6d\x69\156\x69\160\x72\x6f\147\x72\x61\x6d" => array("\141\160\160\x69\x64" => $weixin_config["\141\160\160\151\144"], "\160\141\x67\x65\160\141\x74\150" => $wx_template_data["\160\x61\147\145\x70\141\x74\150"]), "\144\x61\164\x61" => $wx_template_data["\144\x61\x74\141"]); goto zZgW2; xcQXu: $uniacid = $_W["\x75\x6e\x69\141\143\151\x64"]; goto Hw40m; Hm7Yg: $weixin_config = array(); goto MatW_; KZX99: $re_access_token = $jssdk->getweAccessToken($uniacid); goto nGFwu; IcgQt: $new_template["\164\x6f\x75\x73\x65\x72"] = $to_openid; goto fok3e; GT1z7: global $_W; goto mtYig; nGFwu: $url = "\x68\x74\164\x70\163\72\57\x2f\141\160\x69\56\167\145\151\170\x69\156\x2e\x71\x71\x2e\x63\157\x6d\57\143\x67\151\x2d\142\151\x6e\57\x6d\x65\x73\163\x61\x67\x65\57\x77\170\x6f\x70\x65\156\57\164\x65\x6d\x70\x6c\x61\x74\x65\x2f\165\156\x69\x66\157\x72\155\137\163\145\156\x64\x3f\x61\x63\143\x65\163\x73\137\164\157\x6b\x65\156\x3d{$re_access_token}"; goto oRPF8; v57C_: include_once SNAILFISH_VENDOR . "\x57\x65\151\x78\x69\156\x2f\x4a\163\163\144\x6b\x2e\x63\154\141\x73\163\56\x70\150\160"; goto tCeGV; MatW_: $weixin_config["\x61\160\160\151\144"] = load_model_class("\146\x72\x6f\156\x74")->get_config_by_name("\x77\145\x70\x72\157\x5f\141\x70\160\x69\x64", $uniacid); goto E2MYE; tCeGV: $jssdk = new Jssdk($weixin_config["\141\x70\x70\151\x64"], $weixin_config["\x61\x70\x70\163\x63\x65\x72\164"]); goto KZX99; oRPF8: $new_template = array(); goto IcgQt; zZgW2: $result = $this->sendhttps_post($url, json_encode($new_template)); goto IOMq9; Hw40m: F8Kyw: goto Hm7Yg; IOMq9: } function sendhttp_get($url) { goto jD7RP; bcG3P: $result = curl_exec($curl); goto yeh_B; rSU4n: curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1); goto bcG3P; UxNTs: M_Kcq: goto WxgVa; jD7RP: $curl = curl_init(); goto LlW3l; LlW3l: curl_setopt($curl, CURLOPT_URL, $url); goto w24G6; dcsod: curl_setopt($curl, CURLOPT_POST, 1); goto tg4En; w24G6: if (!(defined("\103\125\x52\114\x4f\120\124\137\x49\x50\x52\105\x53\117\114\x56\105") && defined("\x43\x55\122\114\137\x49\x50\122\x45\123\117\114\x56\105\x5f\126\64"))) { goto M_Kcq; } goto E4zZX; tg4En: curl_setopt($curl, CURLOPT_POSTFIELDS, array()); goto rSU4n; E4zZX: curl_setopt($curl, CURLOPT_IPRESOLVE, CURL_IPRESOLVE_V4); goto UxNTs; WISel: return $result; goto mzdnu; WxgVa: curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, FALSE); goto TTPcj; yeh_B: curl_close($curl); goto WISel; TTPcj: curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, FALSE); goto dcsod; mzdnu: } function sendhttps_post($url, $data) { goto GcxE8; GWDmy: curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, FALSE); goto KzlDM; kdcGO: curl_setopt($curl, CURLOPT_POSTFIELDS, $data); goto SaAST; YeS51: curl_setopt($curl, CURLOPT_URL, $url); goto Z657c; Jfuvu: curl_close($curl); goto GuYpx; dPHo2: if (!curl_errno($curl)) { goto E4c3w; } goto A4HQI; Z657c: if (!(defined("\103\125\x52\114\117\120\x54\x5f\x49\120\122\105\123\117\x4c\x56\105") && defined("\103\x55\x52\114\137\x49\120\122\105\123\117\x4c\x56\x45\x5f\x56\x34"))) { goto W_SJd; } goto XgcQU; GcxE8: $curl = curl_init(); goto YeS51; SaAST: curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1); goto F0QOZ; tCLLo: W_SJd: goto MFELS; MFELS: curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, FALSE); goto GWDmy; GuYpx: return $result; goto rk545; A4HQI: return "\105\162\162\x6e\x6f" . curl_error($curl); goto PcDV7; KzlDM: curl_setopt($curl, CURLOPT_POST, 1); goto kdcGO; F0QOZ: $result = curl_exec($curl); goto dPHo2; XgcQU: curl_setopt($curl, CURLOPT_IPRESOLVE, CURL_IPRESOLVE_V4); goto tCLLo; PcDV7: E4c3w: goto Jfuvu; rk545: } }